function clearPage(){$(window).unbind("resize",centralizeContent),$("#page").remove()}function centralizeContent(){var e=$(".content"),a=($(window).height()-e.height())/2,n=$("#header");n.size()>0&&(a-=n.height()/2),(a=a/5*4-50)<0&&(a=0),e.css("top",a.toString()+"px")}function showContent(e,a,n){n=void 0!==n&&n,clearPage();var o=e.find("h2").text();null!=o&&$("title").val(o);var t=$("<div/>").attr("id","page");if("embedded"!=getRequestParam("display")){var d=$("<div/>").attr("id","header").addClass("header").appendTo(t);if("pc"==a){var s=$("<div/>").addClass("langWrapper").addClass("fr").appendTo(d),r=$("<select/>").addClass("lang").appendTo(s);for(i in LOCALE_LIST)$("<option/>",{value:getLocale(LOCALE_LIST[i].code,LOCALE_LIST[i].region),text:LOCALE_LIST[i].lname}).appendTo(r);$("<span/>").addClass("icon-earth").appendTo(s),r.change((function(){var e=r.val(),a=getRequestParams();a.locale=e,redirect(getCurrentBaseUrl(),a)})),r.val(getLocale(SETTINGS.language,SETTINGS.country))}var l=$("<h1/>"),p=$("<a/>").addClass("logo").appendTo(l);p.attr({href:_("garena_homepage"),target:"_blank"}),SETTINGS.iframe?$("<span/>",{id:"iframe_title"}).appendTo(l):$("<img/>",{src:SETTINGS.static_root+"sso/img_garena_logo.png",height:35}).appendTo(p),$("<div/>").addClass("topBarGarena").appendTo(d),$("<div/>").addClass("topBar").appendTo(d),l.appendTo(d)}var c=$("<div/>").attr("id","main-panel").appendTo(t);if("mobile"==a&&c.addClass("mobile"),e.addClass("content"),SETTINGS.gas_download&&n){var g=$("<div/>").attr("id","gas").addClass("banner").appendTo(e);$("<img/>",{src:SETTINGS.static_root+"images/garena_banner.png"}).appendTo(g),$("<span/>").addClass("bannerText").text(_("gas_intro")).appendTo(g);var v=$("<a/>",{href:"javascript:;"}).addClass("download").appendTo(g);$("<span/>").addClass("icon-phone").appendTo(v),$("<span/>").text(_("gas_dl_btn_text")).appendTo(v),v.click((function(){if(/android/i.test(navigator.userAgent)){var e=document.createElement("iframe");e.id="frame_"+(new Date).getTime(),e.style.border="none",e.style.width="1px",e.style.height="1px",document.body.appendChild(e);var a=document.getElementById(e.id),n=!1;a.onload=function(){window.location=GAS_ANDROID,n=!0},window.addEventListener("pagehide",(function(){n=!0}),!1),null===a?window.location=GAS_ANDROID:a.src=GAS_APP_URL,setTimeout((function(){n||(window.location=GAS_ANDROID)}),1e3)}else setTimeout((function(){window.location=GAS_IOS}),100),window.location=GAS_APP_URL}))}c.prepend(e),$("body").append(t),centralizeContent(),$(window).bind("resize",centralizeContent)}function appendClearDiv(e){e.append($("<div/>",{class:"clear"}))}function clearMessage(e){$(e+" #msg").remove(),$(e+" input.error").removeClass("error")}function showMessage(e,a,n,o,i){i=void 0===i?"text":i,o?$('span[id="msg"]').remove():n.find("span.errorMsg,span.successMsg").remove();var t=$("<span/>",{id:"msg",class:a+"Msg"});"html"==i?t.html("<em></em>"+e):(t.text(e),t.prepend($("<em/>"))),n.append(t)}function showMobileRegisterAlert(e){var a=$("<div/>").addClass("alertWrapper"),n=$("<div/>").addClass("alertContainer").appendTo(a),o=$("<div/>").addClass("alert").appendTo(n);$("<span/>").addClass("icon-alert").appendTo(o),$("<p/>").text(e).appendTo(o),$("<p/>").text(_("register_redirect_on_error")).appendTo(o);var i=$("<a/>",{href:"javascript:;",class:"btn-ok"}).text(_("btn_ok")).appendTo(n);a.appendTo($("body")),i.click((function(){showRegisterPage("mobile"),a.remove()}))}function showSuccess(e,a,n,o){showMessage(e,"success",a,n,o)}function showError(e,a,n,o){void 0===a&&(a=$("#line-btn")),a.find("span.icon-right").remove(),(n=void 0===n||n)&&$("input.error").removeClass("error"),showMessage(e,"error",a,n,o),a.find("input").addClass("error")}function centralizeDialog(){$(".sso_dialog").each((function(){var e=$(this),a=($(window).height()-e.height())/2;a<0&&(a=0),e.css("top",a.toString()+"px")}))}function removeDialog(){$(window).unbind("resize",centralizeDialog),$(".sso_dialog_container").remove()}function showDialog(e,a,n,o){removeDialog();var i=$("<div/>").addClass("sso_dialog_container").css("display","none"),t=$("<div/>").addClass("sso_dialog_background").appendTo(i),d=$("<div/>").addClass("sso_dialog").appendTo(i);null!=a&&d.attr("id",a),null==n&&(n=""),$("<div/>").addClass("sso_dialog_title").text(n).appendTo(d);var s=function(){$(window).unbind("resize",centralizeDialog),i.fadeOut(500,o)};$("<div/>",{title:_("dialog_close_tip")}).html("&times;").addClass("sso_dialog_close").appendTo(d).click(s),$("<div/>").addClass("sso_dialog_content").append(e).appendTo(d),$("body").append(i);var r=($(window).height()-d.height())/2;r<0&&(r=0),d.css("top",r.toString()+"px"),$(window).bind("resize",centralizeDialog),i.fadeIn(500,(function(){$(this).focus()})),t.click(s)}function showPageDialog(e,a,n,o){var i=$("<iframe/>",{class:"sso_dialog_frame",src:e,frameborder:0,scrolling:"no"}).load((function(){setTimeout((function(){try{$(i).height($(i).contents().height())}catch(e){}}),100)}));showDialog(i,a,n,o)}